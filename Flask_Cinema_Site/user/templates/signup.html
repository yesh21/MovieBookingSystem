{% extends 'user_base.html' %}

{% block content %}
    <div class="container">
        <div class="card bg-black">
            <h4 class="card-header border-bottom">Register</h4>

            <div class="card-body">
                <form action="" method="post">
                    <fieldset class="form-groups">
                        <!-- Names -->
                        <div class="form-row">
                            <div class="form-group col">
                                {{ get_field_html(form.firstname) }}
                            </div>
                            <div class="form-group col">
                                {{ get_field_html(form.lastname) }}
                            </div>
                        </div>

                        <!-- Email / username -->
                        <div class="form-row">
                            <div class="form-group col">
                                {{ get_field_html(form.email) }}
                            </div>
                            <div class="form-group col-md-4">
                                {{ form.username.label(class="form-control-label") }}
                                <div class="input-group">
                                    <div class="input-group-prepend">
                                        <span class="input-group-text">@</span>
                                    </div>
                                    {% if form.username.errors %}
                                        {{ form.username(class='form-control is-invalid') }}
                                    {% else %}
                                        {{ form.username(class='form-control') }}
                                    {% endif %}
                                </div>
                                {{ get_file_upload_errors_html(form.username.errors) }}
                            </div>
                        </div>

                        <!-- Passwords -->
                        <div class="form-row">
                            <div class="form-group col">
                                {{ get_field_html(form.password) }}
                            </div>
                            <div class="form-group col">
                                {{ get_field_html(form.confirm_password) }}
                            </div>
                        </div>

                        <!-- Consent -->
                        <div class="form-group form-check">
                            {{ form.consent(class="form-check-input") }}
                            {{ form.consent.label(class="form-check-label") }}
                        </div>
                    </fieldset>

                    <!-- Submit Button -->
                    <div class="form-group">
                        {{ form.signup_btn(class="btn btn-primary d-block") }}
                    </div>

                    {{ form.hidden_tag() }}
                </form>
                <div class="border-top pt-2">
                    <small class="text-muted">
                        Already have an account? <a class="ml-1" href="{{ url_for('user.login_get') }}">Login</a>
                    </small>
                </div>
            </div>
        </div>
    </div>
{% endblock %}